sap.ui.define(["./BaseController","../model/formatter","sap/ui/core/IconPool","sap/ui/model/json/JSONModel","sap/m/Link","sap/m/MessageItem","sap/m/MessageView","sap/m/Button","sap/m/Dialog","sap/m/Bar","sap/m/Title","sap/m/MessageToast","sap/m/MessageStrip"],function(e,t,o,i,s,n,a,r,g,c,d,f,l){"use strict";return e.extend("com.fe.zmroui.controller.App",{formatter:t,onInit:function(){this.getUser()},getUser:function(){this._userModel=this.getOwnerComponent().getModel("userModel");let e=this;fetch("/getUserInfo").then(e=>e.json()).then(t=>{e._userModel.setProperty("/jwtData",t)}).catch(e=>console.log(e))},onSideNavButtonPress:function(){var e=this.byId("app");var t=e.getSideExpanded();e.setSideExpanded(!e.getSideExpanded())},onItemSelect:function(e){var t=this.byId("app");var o=t.getSideExpanded();var i=e.getParameters("Item").item.getProperty("key");this.byId("app").setSideExpanded(false);this.getRouter().navTo(i)},onItemClose:function(e){var t=e.getSource(),o=t.getParent();o.removeItem(t);f.show("Notification Closed: "+t.getTitle())},handleNotificationPress:function(e){if(!this._oDialog1){this._oDialog1=sap.ui.xmlfragment(this.createId("frgNotification"),"com.fe.mroecat.view.fragments.Notifications",this);this.getView().addDependent(this._oDialog1)}this._oDialog1.toggle(e.getSource())},onNotificationPress:function(e){if(!this._oDialog){this._oDialog=sap.ui.xmlfragment(this.createId("frgMyInboxNotification"),"com.fe.mroecat.view.fragments.MyInboxNotification",this);this.getView().addDependent(this._oDialog)}this._oDialog.openBy(e.getSource())},onCloseNotification:function(){if(this._oDialog){this._oDialog.close();this._oDialog.destroy();this._oDialog=undefined}},onListItemPress:function(e){f.show("Item Pressed: "+e.getSource().getTitle())},onItemClose:function(e){var t=e.getSource(),o=t.getParent();o.removeItem(t);f.show("Item Closed: "+t.getTitle())},onRejectPress:function(){f.show("Reject Button Pressed")},onAcceptPress:function(){f.show("Accept Button Pressed")},onAcceptErrors:function(e){var t=new l({type:MessageType.Error,showIcon:true,showCloseButton:true,text:"Error: Something went wrong.",link:new s({text:"SAP CE",href:"http://www.sap.com/",target:"_blank"})});var o=e.getSource().getParent().getParent();var i=o.getItems();i.forEach(function(e){e.removeAllAggregation("processingMessage")});var n=Math.floor(Math.random()*3);i[n].setProcessingMessage(t)},onItemSelectMsgView:function(){this.getView().byId(sap.ui.core.Fragment.createId("frgNotification","idBtnBack")).setVisible(true)},onMsgBtnBackPress:function(){this.getView().byId(sap.ui.core.Fragment.createId("frgNotification","idMsgView")).navigateBack();this.getView().byId(sap.ui.core.Fragment.createId("frgNotification","idBtnBack")).setVisible(false)}})});